## Практическая работа 3
на тему :
# "События мыши и их обработка"

# Пользовательский интерфейс

Классические алгоритмы и все программы, которые ученики пишут в общеобразовательной школе - это линейные, ветвящиеся, циклические программы, которые стремятся как можно быстрее выполнить поставленную задачу и закончить выполнение. Приложения с графическим интерфейсом пользователя ведут себя иначе. Запустившись один раз, они ждут событий от пользователя программы, чтобы заняться их обработкой. То есть та или иная часть программного кода начинает выполняться лишь тогда, когда случается то или иное событие. Такие программы называются событийно-ориентированными.

События бывают разными. Сработал временной фактор, кто-то кликнул мышкой или нажал Enter, начал вводить текст, переключил радиокнопки, прокрутил страницу вниз и т. д. Когда случается что-то подобное, то, если был создан соответствующий обработчик, происходит срабатывание определенной части программы.

Событийно-ориентированное программирование прекрасно сочетается со структурным программированием (структурированием кода через декомпозицию). Код обработчиков событий удобно оформлять в отдельные функции (такие функции по-английски ещё называют event handler, callback, slot).

Выбор того как именно обрабатывать событие (какой из обработчиков вызывать) называется диспетчеризация событий. В библиотеке PyGame это делается вами вручную, например при помощи разветвлённых конструкций if elif else.

Pygame обрабатывает события с помощью очереди событий. В неё записываются все происходящие события.

В программе есть начальный код, который доступен вам сразу(см файл main.py). В коде есть цикл while.
В цикле используется функция get() модуля event библиотеки pygame — pygame.event.get(). Она забирает список событий из очереди. Основные события — это закрытие окна, нажатие и отпускание кнопки мыши, перемещение мыши, нажатие и отпускание клавиши. Узнать, что за событие произошло, позволяет сравнение типа события event.type с константой из pygame:

# Константа 	Событие

QUIT 	закрытие окна  
KEYDOWN 	нажатие клавиши  
KEYUP 	поднятие клавиши  
MOUSEMOTION 	движение мыши  
MOUSEBUTTONUP 	отпускание кнопки мыши  
MOUSEBUTTONDOWN 	нажатие кнопки мыши  

# Cобытия мыши

В pygame обрабатываются три события мыши: нажатие кнопки, отпускание кнопки, перемещение мыши. 

Какая именно кнопка была нажата, записывается в другое свойство события – button. Для левой кнопки это число 1, для средней – 2, для правой – 3, для прокручивания вперед – 4, для прокручивания назад – 5. У событий MOUSEMOTION (перемещение мыши) вместо button используется свойство buttons, в которое записывается состояние трех кнопок мыши (кортеж из трех элементов).

Координаты мыши записываются в атрибут pos. Таким образом, если вы нажали правую кнопку мыши точно в середине окна размером 200x200, то будет создан объект типа Event с полями event.type = pygame.MOUSEBUTTONDOWN, event.button = 3, event.pos = (100, 100).

У событий MOUSEMOTION есть еще один атрибут – rel. Он показывает относительное смещение по обоим осям. С помощью него, например, можно отслеживать скорость движения мыши.


# Код для рисования картины находится в файле canvas.py

Усовершенствуем этот код:
# Код в файле click.py плюсом к предыдущему создаёт круги в местах клика мыши: красные при клике левой кнопкой, синие при клике правой кнопкой.

# Заготовка игры "Поймай шарик"

Суть игры проста: в случайном месте появляется на короткое время шарик, и мы должны успеть щелкнуть по нему мышкой.  
Начальный код доступен вам сразу в файле main.py .

Код файлов canvas.py и click.py включен в main.py

# Задание:

    - Сделать код читабельным и документированным.
    - Реализовать подсчёт очков.
    - Сделать шарики двигающимися со случайным отражением от стен.
    - Реализовать одновременное присутствие нескольких шариков на экране.
    - Добавить второй тип мишени со своей формой и своим специфическим харктером движения.
    - Выдавать за эти мишени другое количество очков.
    - Сделать таблицу лучших игроков, автоматически сохраняющуюся в файл.



Код сохранить, закомитить и отправить (запушить) на сервер.